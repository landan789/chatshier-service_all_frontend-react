@import '../../../styles/_variables';

$ctrl-panel-bg-color: #4a8998;
$ctrl-panel-active-color: rgb(46, 85, 95);

.ctrl-panel {
    display: none;
    width: $ctrl-panel-width;
    min-height: 100%;
    background-color: $ctrl-panel-bg-color;
    z-index: 1040 !important; // 由於 swiper container 層級較高，因此需設定 !important
    transition: width $ctrl-panel-transition-duration;

    &.put-away {
        width: $ctrl-panel-put-away-width;
    }

    &.animated {
        position: absolute;
        left: 0;
        top: 0;
        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1);
        animation-duration: $ctrl-panel-transition-duration;

        &.slide-in {
            display: block;
            animation-name: controlPanelSlideIn;
        }
    
        &.slide-out {
            display: block;
            animation-name: controlPanelSlideOut;
        }
    }

    .ctrl-panel-title {
        font-size: 1.25rem;
    }

    .swiper-wrapper {
        height: calc(100% - 2rem);
    }

    .swiper-slide {
        font-size: .85rem;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;

        &::-webkit-scrollbar {
            width: 0;
            background-color: transparent;
        }
    }

    .swiper-pagination-bullet {
        background-color: white;
        margin: 0 .25rem;
    }

    .swiper-pagination-bullet-active {
        background-color: $primary-color;
    }

    .app-icon {
        width: 1.5rem;
        height: 1.5rem;
        border-radius: .25rem;
    }

    .list-group-item {  
        background-color: $ctrl-panel-bg-color;
        cursor: pointer;
        border: none;
    }

    .detail-list {
        .list-group-item {
            display: flex;
            align-items: center;
            letter-spacing: 1.2px;
            font-weight: 300;

            &:hover {
                background-color: $ctrl-panel-active-color;
            }

            > :first-child {
                margin-right: .5rem;
            }

            span {
                max-width: 55%;
                white-space: nowrap;
                overflow-x: hidden;
                text-overflow: ellipsis;
            }
        }

        .nested {
            &.list-group-item,
            > :first-child {
                margin-left: .5rem;
            }

            .nested {
                &.list-group-item,
                > :first-child {
                    margin-left: 1rem;
                }

                .nested {
                    &.list-group-item,
                    > :first-child {
                        margin-left: 1.25rem;
                    }
                }
            }
        }
    }

    .ctrl-panel-logo {
        width: $ctrl-panel-logo-size;
        height: $ctrl-panel-logo-size;
    }

    &:not(.put-away) + .edge-toggle-container:hover .edge-toggle-btn:hover i::before {
        content: "\f053";
    }

    &.put-away + .edge-toggle-container:hover .edge-toggle-btn:hover i::before {
        content: "\f054";
    }

    + .edge-toggle-container {
        left: $ctrl-panel-width;
    }
}

.ctrl-panel-backdrop {
    position: absolute;
    left: $ctrl-panel-width;
    top: 0;
    width: calc(100vw - #{$ctrl-panel-width});
    height: 100vh;
    z-index: 1039;
    background-color: transparent;
}

@keyframes controlPanelSlideIn {
    from { transform: translate3d(-100%, 0, 0); }
    to { transform: translate3d(0, 0, 0); }
}

@keyframes controlPanelSlideOut {
    from { transform: translate3d(0, 0, 0); }
    to { transform: translate3d(-100%, 0, 0); }
}